{"version":3,"file":"devtools.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://rapid-devtools/./src/devtools/devtools.js"],"sourcesContent":["// Make a shallow copy with a null prototype, so that sidebar does not\n// expose prototype.\nconst page_getHistory = function () {\n  let data = window.rapidContext ? window.rapidContext.systems.editor._history : {};\n  let props = Object.getOwnPropertyNames(data);\n  let copy = { __proto__: null };\n\n  for (let i = 0; i < props.length; ++i){\n    copy[props[i]] = data[props[i]]\n  };\n\n  return copy;\n};\n\n//Create DevTools Panel\nchrome.devtools.panels.create(\n  'Rapid',\n  'assets/rapid_favicon.png',\n  'panel.html',\n  function (panel) {\n    console.log(\"Panel created\")\n  }\n);\n\n//Elements Sidebar to display Rapid History\nchrome.devtools.panels.elements.createSidebarPane(\n  'Rapid Properties', //title of sidebar\n  function (sidebar) {\n    function updateElementProperties() {\n      sidebar.setExpression(\n        '(' + page_getHistory.toString() + ')()',\n        'History'\n      )\n    }\n\n    updateElementProperties();\n\n    chrome.devtools.panels.elements.onSelectionChanged.addListener(\n      updateElementProperties\n    );\n    window.addEventListener(\"click\", updateElementProperties(), '*');\n    window.addEventListener(\"keypress\", updateElementProperties(), '*');\n  }\n);"],"names":[],"sourceRoot":""}